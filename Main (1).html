<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DORAEMON-AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=El+Messiri:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <style>
        body {
            font-family: 'El Messiri', sans-serif;
            background: #000000;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            margin: 0;
            padding: 0;
        }
        :root {
            --soft-black: #1F2937;
            --light-black: #374151;
            --light-gray: #D1D5DB;
            --purple: #A78BFA;
            --green: #10B981;
            --red: #EF4444;
            --orange: #F97316;
            --blue: #3B82F6;
            --yellow: #F59E0B;
            --pink: #EC4899;
            --teal: #14B8A6;
        }
        * {
            color: #ffffff;
        }
        .popup, .modal, .win-popup, .loss-popup, .jackpot-popup, .play-resume {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #000000;
            padding: 1.5rem;
            border-radius: 1.5rem;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
            border: 2px solid var(--green);
            z-index: 1000;
            width: 90%;
            max-width: 400px;
            text-align: center;
        }
        .popup.active, .modal.active, .win-popup.active, .loss-popup.active, .jackpot-popup.active, .play-resume.active {
            display: block;
        }
        .confetti-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--green);
        }
        .card {
            transition: all 0.3s ease;
            background: #000000;
            border: 2px solid var(--green);
            border-radius: 1.5rem;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
            backdrop-filter: blur(8px);
            position: relative;
            margin: 0.75rem;
            overflow: hidden;
        }
        .card:hover {
            transform: translateY(-6px) scale(1.03);
            box-shadow: 0 0 15px rgba(16, 185, 129, 0.7);
        }
        .gradient-bg {
            background: #000000;
            border: 2px solid var(--green);
        }
        svg text {
            text-anchor: middle;
            dominant-baseline: middle;
            text-transform: uppercase;
            animation: stroke 5s infinite alternate;
            stroke-width: 1.2;
            stroke: var(--green);
            font-size: 130px;
            fill: rgba(255, 255, 255, 0);
        }
        @keyframes stroke {
            0% { fill: rgba(255, 255, 255, 0); stroke: var(--green); stroke-dashoffset: 25%; stroke-dasharray: 0 50%; stroke-width: 1.2; }
            70% { fill: rgba(255, 255, 255, 0); stroke: var(--teal); }
            100% { fill: #ffffff; stroke: rgba(0, 0, 0, 0); stroke-dashoffset: -25%; stroke-dasharray: 50% 0; stroke-width: 0; }
        }
        .history-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .history-item {
            transition: all 0.3s ease;
            background: #000000;
            border: 2px solid var(--green);
            border-radius: 1.2rem;
            box-shadow: 0 0 8px rgba(16, 185, 129, 0.4);
            padding: 1.2rem;
            position: relative;
            overflow: hidden;
        }
        .history-item.win { background: rgba(16, 185, 129, 0.1); }
        .history-item.loss { background: rgba(239, 68, 68, 0.1); }
        .history-item.pending { background: rgba(245, 158, 11, 0.1); }
        .history-item.skipped { background: rgba(107, 114, 128, 0.1); }
        .history-item.jackpot { background: rgba(16, 185, 129, 0.3); }
        .history-item:hover { transform: scale(1.02); box-shadow: 0 0 12px rgba(16, 185, 129, 0.6); }
        .history-item.fade-out { animation: fadeOut 0.5s ease forwards; }
        @keyframes fadeOut {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0.95); height: 0; padding: 0; margin: 0; }
        }
        .history-item .watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 1.5rem;
            color: rgba(16, 185, 129, 0.2);
            pointer-events: none;
            z-index: 0;
            text-transform: uppercase;
            font-weight: bold;
        }
        .small-dot {
            position: absolute;
            width: 6px;
            height: 6px;
            background: var(--green);
            border-radius: 50%;
            animation: float 4s infinite;
            z-index: 1;
        }
        @keyframes float {
            0% { transform: translate(0, 0); opacity: 0.9; }
            50% { transform: translate(12px, -12px); opacity: 0.5; }
            100% { transform: translate(0, 0); opacity: 0.9; }
        }
        .delete-btn:hover { color: var(--teal); transform: scale(1.3); }
        .win-badge { background: rgba(16, 185, 129, 0.2); color: var(--green); }
        .loss-badge { background: rgba(239, 68, 68, 0.2); color: var(--red); }
        .pending-badge { background: rgba(245, 158, 11, 0.2); color: var(--yellow); }
        .skipped-badge { background: rgba(107, 114, 128, 0.2); color: var(--light-gray); }
        .jackpot-badge { background: rgba(16, 185, 129, 0.4); color: var(--green); }
        .status-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        .win-icon { color: var(--green); animation: pulseWin 1.5s infinite; }
        .loss-icon { color: var(--red); animation: pulseLoss 1s infinite; }
        .pending-icon { color: var(--yellow); animation: rotate 2s infinite linear; }
        .skipped-icon { color: var(--light-gray); animation: pulseSkip 1.5s infinite; }
        .jackpot-icon { color: var(--green); animation: pulseWin 1s infinite; }
        @keyframes pulseWin {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }
        @keyframes pulseLoss {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        @keyframes pulseSkip {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .dashboard-card {
            background: #000000;
            border: 2px solid var(--green);
            border-radius: 1.5rem;
            padding: 1.2rem;
            box-shadow: 0 0 8px rgba(16, 185, 129, 0.4);
            transition: all 0.3s ease;
        }
        .dashboard-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 0 12px rgba(16, 185, 129, 0.6);
        }
        .confidence-meter {
            height: 10px;
            background: #333333;
            border-radius: 5px;
            overflow: hidden;
        }
        .confidence-fill {
            height: 100%;
            background: var(--green);
            transition: width 0.5s ease;
        }
        .navigation {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 350px;
            height: 70px;
            background: #000000;
            border: 2px solid var(--green);
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
            border-radius: 1.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .navigation ul {
            display: flex;
            width: 300px;
        }
        .navigation ul li {
            position: relative;
            list-style: none;
            width: 75px;
            height: 70px;
            z-index: 1;
        }
        .navigation ul li a {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            width: 100%;
            text-align: center;
            font-weight: 500;
        }
        .navigation ul li a .icon {
            line-height: 75px;
            font-size: 1.5em;
            transition: 0.5s;
            color: #ffffff;
        }
        .navigation ul li.active a .icon { transform: translateY(-32px); color: var(--purple); }
        .navigation ul li a .text {
            position: absolute;
            font-weight: 400;
            font-size: 0.75em;
            letter-spacing: 0.05em;
            transition: 0.5s;
            opacity: 0;
            transform: translateY(20px);
            color: #ffffff;
        }
        .navigation ul li.active a .text { opacity: 1; transform: translateY(10px); }
        .indicator {
            position: absolute;
            top: -50%;
            width: 70px;
            height: 70px;
            background: var(--purple);
            border-radius: 50%;
            border: 6px solid var(--green);
            transition: 0.5s;
        }
        .indicator::before, .indicator::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 20px;
            height: 20px;
            background: transparent;
            border-top-right-radius: 20px;
            box-shadow: 1px -10px 0 0 var(--green);
        }
        .indicator::after {
            right: -22px;
            border-top-left-radius: 20px;
            box-shadow: -1px -10px 0 0 var(--green);
        }
        .navigation ul li:nth-child(1).active ~ .indicator { transform: translateX(calc(75px * 0)); }
        .navigation ul li:nth-child(2).active ~ .indicator { transform: translateX(calc(75px * 1)); }
        .navigation ul li:nth-child(3).active ~ .indicator { transform: translateX(calc(75px * 2)); }
        .navigation ul li:nth-child(4).active ~ .indicator { transform: translateX(calc(75px * 3)); }
        .content-section { display: none; }
        .content-section.active { display: block; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; }
        .mode-toggle {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        .mode-toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .mode-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #333333;
            transition: .4s;
            border-radius: 34px;
        }
        .mode-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: #ffffff;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .mode-slider {
            background-color: var(--green);
        }
        input:checked + .mode-slider:before {
            transform: translateX(30px);
        }
        .mode-icons {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 8px;
            pointer-events: none;
        }
        .mode-icons i, .mode-icons span {
            font-size: 14px;
            color: #ffffff;
        }
        .contact-links {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
        }
        .contact-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            font-size: 12px;
            color: #ffffff;
        }
        .contact-link i {
            font-size: 20px;
            margin-bottom: 5px;
            color: var(--purple);
        }
        .period-id {
            font-family: monospace;
            letter-spacing: 2px;
            font-size: 1.2rem;
        }
        #currentPeriod, #currentResult, #predictedNumbers {
            border: none !important;
        }
        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        button, .btn {
            border-radius: 1rem;
            background: var(--green);
            transition: all 0.3s ease;
            color: #ffffff;
        }
        button:hover, .btn:hover {
            background: var(--teal);
            transform: scale(1.05);
            box-shadow: 0 0 10px var(--green);
        }
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #000000;
            padding: 10px 20px;
            border-radius: 10px;
            border: 2px solid var(--green);
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
            z-index: 2000;
            color: #ffffff;
        }
        @media (max-width: 768px) {
            svg text { font-size: 100px; }
            .card { padding: 0.75rem; margin: 0.5rem; border-radius: 1rem; }
            .grid-cols-2 { grid-template-columns: 1fr; }
            .md\\:grid-cols-3 { grid-template-columns: 1fr 1fr; }
            .text-3xl { font-size: 1.5rem; }
            .text-2xl { font-size: 1.25rem; }
            .text-xl { font-size: 1rem; }
            .text-lg { font-size: 0.875rem; }
            .text-sm { font-size: 0.75rem; }
            .p-6 { padding: 0.75rem; }
            .p-5 { padding: 0.5rem; }
            .w-12 { width: 2.5rem; height: 2.5rem; }
            .history-item { padding: 1rem; border-radius: 1rem; }
            .history-item .watermark { font-size: 1rem; }
            .rounded-xl { border-radius: 0.75rem; }
            .gap-4 { gap: 0.75rem; }
            .mb-4 { margin-bottom: 0.75rem; }
            .mb-2 { margin-bottom: 0.5rem; }
            .mb-1 { margin-bottom: 0.3rem; }
            .px-4 { padding-left: 0.75rem; padding-right: 0.75rem; }
            .px-2 { padding-left: 0.5rem; padding-right: 0.5rem; }
            .py-1 { padding-top: 0.25rem; padding-bottom: 0.25rem; }
            .space-x-2 > * + * { margin-left: 0.5rem; }
            .space-x-1 > * + * { margin-left: 0.3rem; }
            .navigation { width: 300px; border-radius: 1rem; }
            .navigation ul { width: 250px; }
            .navigation ul li { width: 62.5px; }
            .indicator { width: 60px; height: 60px; }
            .navigation ul li:nth-child(1).active ~ .indicator { transform: translateX(calc(62.5px * 0)); }
            .navigation ul li:nth-child(2).active ~ .indicator { transform: translateX(calc(62.5px * 1)); }
            .navigation ul li:nth-child(3).active ~ .indicator { transform: translateX(calc(62.5px * 2)); }
            .navigation ul li:nth-child(4).active ~ .indicator { transform: translateX(calc(62.5px * 3)); }
            .popup, .modal, .win-popup, .loss-popup, .jackpot-popup, .play-resume { max-width: 320px; padding: 1rem; border-radius: 1rem; }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <div class="w-full relative pb-20">
        <header class="text-center mt-0 mb-2 animate__animated animate__fadeInDown">
            <svg viewBox="0 0 800 120">
                <text x="50%" y="50%">ATxANSH</text>
            </svg>
        </header>

        <div class="max-w-full mx-auto p-2 w-full">
            <div class="max-w-4xl mx-auto p-2 w-full">
                <!-- Home Section -->
                <div id="homeSection" class="content-section active">
                    <div class="card mb-4 overflow-hidden gradient-bg animate__animated animate__zoomIn relative">
                        <div class="p-6">
                            <div class="grid grid-cols-2 gap-4">
                                <div class="relative">
                                    <div class="pl-2">
                                        <div class="flex items-center space-x-2 mb-2">
                                            <i class="fas fa-calendar-alt text-2xl animate__animated animate__bounce"></i>
                                            <h2 class="text-2xl font-bold">Period</h2>
                                        </div>
                                        <p id="currentPeriod" class="text-2xl font-semibold p-3 rounded-lg period-id">-</p>
                                    </div>
                                </div>
                                <div class="relative text-right">
                                    <div class="pr-2">
                                        <div class="flex items-center justify-end space-x-2 mb-2">
                                            <h2 class="text-2xl font-bold">Prediction</h2>
                                            <i class="fas fa-poll text-2xl animate__animated animate__bounce"></i>
                                        </div>
                                        <p id="currentResult" class="text-2xl font-semibold p-3 rounded-lg">-</p>
                                        <p id="predictedNumbers" class="text-lg font-semibold p-3 rounded-lg mt-2">-</p>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4">
                                <p class="text-sm">Confidence</p>
                                <div class="confidence-meter">
                                    <div id="confidenceFill" class="confidence-fill" style="width: 0%"></div>
                                </div>
                                <p id="confidenceText" class="text-sm mt-1">0%</p>
                            </div>
                        </div>
                        <div class="small-dot" style="top: 15%; left: 15%; animation-delay: 0.2s;"></div>
                        <div class="small-dot" style="top: 85%; left: 85%; animation-delay: 0.8s;"></div>
                        <div class="small-dot" style="top: 50%; left: 25%; animation-delay: 1.2s;"></div>
                        <div class="small-dot" style="top: 20%; left: 80%; animation-delay: 1.6s;"></div>
                    </div>

                    <div class="card mb-4 p-6 animate__animated animate__fadeInUp relative">
                        <h2 class="text-3xl font-bold text-center mb-4 relative">
                            <span class="relative z-10 pulse-animation">Analysis Dashboard</span>
                            <span class="absolute top-1/2 left-0 w-full h-2 bg-10B981 -translate-y-1/2 rounded-full"></span>
                        </h2>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                            <div class="dashboard-card animate__animated animate__fadeIn" style="animation-delay: 0s;">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-star text-lg"></i>
                                    <div>
                                        <p class="text-sm">Most Frequent</p>
                                        <p id="mostFrequent" class="text-xl font-bold">-</p>
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-card animate__animated animate__fadeIn" style="animation-delay: 0.1s;">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-arrow-down text-lg"></i>
                                    <div>
                                        <p class="text-sm">Least Frequent</p>
                                        <p id="leastFrequent" class="text-xl font-bold">-</p>
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-card animate__animated animate__fadeIn" style="animation-delay: 0.2s;">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-percentage text-lg"></i>
                                    <div>
                                        <p class="text-sm">Win Rate</p>
                                        <p id="winRate" class="text-xl font-bold">-</p>
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-card animate__animated animate__fadeIn" style="animation-delay: 0.3s;">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-trophy text-lg"></i>
                                    <div>
                                        <p class="text-sm">Wins</p>
                                        <p id="totalWinBets" class="text-xl font-bold">-</p>
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-card animate__animated animate__fadeIn" style="animation-delay: 0.4s;">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-skull text-lg"></i>
                                    <div>
                                        <p class="text-sm">Losses</p>
                                        <p id="totalLossBets" class="text-xl font-bold">-</p>
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-card flex items-center justify-between animate__animated animate__fadeIn" style="animation-delay: 0.5s;">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-server text-lg"></i>
                                    <div>
                                        <p class="text-sm">Server Status</p>
                                        <p id="serverStatus" class="font-semibold">Connected</p>
                                    </div>
                                </div>
                                <div id="serverStatusIndicator" class="w-3 h-3 bg-10B981 rounded-full animate-ping"></div>
                            </div>
                        </div>
                        <div class="small-dot" style="top: 10%; left: 10%; animation-delay: 0.3s;"></div>
                        <div class="small-dot" style="top: 90%; left: 90%; animation-delay: 0.9s;"></div>
                        <div class="small-dot" style="top: 30%; left: 70%; animation-delay: 1.5s;"></div>
                    </div>
                </div>

                <!-- History Section -->
                <div id="historySection" class="content-section">
                    <div class="card p-6 animate__animated animate__fadeInUp relative">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-3xl font-bold text-center relative">
                                <span class="relative z-10 pulse-animation">History</span>
                                <span class="absolute top-1/2 left-0 w-full h-2 bg-10B981 -translate-y-1/2 rounded-full"></span>
                            </h2>
                            <button id="deleteAllHistoryBtn" class="px-4 py-2 rounded-lg hover:bg-14B8A6 transition flex items-center">
                                <i class="fas fa-trash-alt mr-2"></i><span>Delete</span>
                            </button>
                        </div>
                        <div id="history" class="history-container"></div>
                        <div class="small-dot" style="top: 20%; left: 30%; animation-delay: 0.4s;"></div>
                        <div class="small-dot" style="top: 80%; left: 70%; animation-delay: 0.9s;"></div>
                        <div class="small-dot" style="top: 40%; left: 50%; animation-delay: 1.3s;"></div>
                    </div>
                </div>

                <!-- Stats Section -->
                <div id="statsSection" class="content-section">
                    <div class="card p-6 animate__animated animate__fadeInUp relative">
                        <h2 class="text-3xl font-bold text-center mb-4 relative">
                            <span class="relative z-10 pulse-animation">Statistics</span>
                            <span class="absolute top-1/2 left-0 w-full h-2 bg-10B981 -translate-y-1/2 rounded-full"></span>
                        </h2>
                        <div class="stats-grid">
                            <div class="dashboard-card">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-trophy text-10B981 text-lg"></i>
                                    <div>
                                        <p class="text-sm">Total Wins</p>
                                        <p id="statsTotalWins" class="text-xl font-bold">-</p>
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-card">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-skull text-EF4444 text-lg"></i>
                                    <div>
                                        <p class="text-sm">Total Losses</p>
                                        <p id="statsTotalLosses" class="text-xl font-bold">-</p>
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-card">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-percentage text-F59E0B text-lg"></i>
                                    <div>
                                        <p class="text-sm">Win Rate</p>
                                        <p id="statsWinRate" class="text-xl font-bold">-</p>
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-card">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-fire text-F97316 text-lg"></i>
                                    <div>
                                        <p class="text-sm">Current Streak</p>
                                        <p id="currentStreak" class="text-xl font-bold">-</p>
                                    </div>
                                </div>
                            </div>
                            <div class="dashboard-card">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-history text-3B82F6 text-lg"></i>
                                    <div>
                                        <p class="text-sm">Last 5 Results</p>
                                        <p id="lastFiveResults" class="text-xl font-bold">-</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="small-dot" style="top: 15%; left: 20%; animation-delay: 0.5s;"></div>
                        <div class="small-dot" style="top: 85%; left: 80%; animation-delay: 1s;"></div>
                    </div>
                </div>

                <!-- Settings Section -->
                <div id="settingsSection" class="content-section">
                    <div class="card p-6 animate__animated animate__fadeInUp relative">
                        <h2 class="text-3xl font-bold text-center mb-4 relative">
                            <span class="relative z-10 pulse-animation">Settings</span>
                            <span class="absolute top-1/2 left-0 w-full h-2 bg-10B981 -translate-y-1/2 rounded-full"></span>
                        </h2>
                        <div class="flex flex-col gap-4">
                            <div class="dashboard-card">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <i class="fas fa-chart-line text-lg"></i>
                                        <div>
                                            <p class="text-sm">Status</p>
                                            <p id="totalWins" class="text-sm">Total Wins: 0</p>
                                            <p id="totalLosses" class="text-sm">Total Losses: 0</p>
                                        </div>
                                    </div>
                                    <p id="eligibilityStatus" class="text-sm font-semibold text-F59E0B">Pending</p>
                                </div>
                            </div>
                            <div class="dashboard-card">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <i class="fas fa-bell text-lg"></i>
                                        <p class="text-sm">Notifications</p>
                                    </div>
                                    <label class="mode-toggle">
                                        <input type="checkbox" id="notificationToggle">
                                        <span class="mode-slider"></span>
                                        <div class="mode-icons">
                                            <i class="fas fa-bell-slash"></i>
                                            <i class="fas fa-bell"></i>
                                        </div>
                                    </label>
                                </div>
                            </div>
                            <div class="dashboard-card">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <i class="fas fa-volume-up text-lg"></i>
                                        <p class="text-sm">Sound</p>
                                    </div>
                                    <label class="mode-toggle">
                                        <input type="checkbox" id="soundToggle" checked>
                                        <span class="mode-slider"></span>
                                        <div class="mode-icons">
                                            <i class="fas fa-volume-mute"></i>
                                            <i class="fas fa-volume-up"></i>
                                        </div>
                                    </label>
                                </div>
                            </div>
                            <div class="dashboard-card cursor-pointer hover:bg-14B8A6 transition" onclick="resetSettings()">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <i class="fas fa-undo text-lg"></i>
                                        <p class="text-sm">Reset Settings</p>
                                    </div>
                                    <span class="text-sm">Reset</span>
                                </div>
                            </div>
                            <div class="dashboard-card">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <i class="fas fa-cog text-lg"></i>
                                        <p class="text-sm">Prediction Mode</p>
                                    </div>
                                    <label class="mode-toggle">
                                        <input type="checkbox" id="predictionModeToggle">
                                        <span class="mode-slider"></span>
                                        <div class="mode-icons">
                                            <span>Normal</span>
                                            <span>Ultra</span>
                                        </div>
                                    </label>
                                </div>
                            </div>
                            <div onclick="openVideoPopup()" class="dashboard-card cursor-pointer hover:bg-14B8A6 transition">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <i class="fab fa-youtube text-lg"></i>
                                        <p class="text-sm">How To Use</p>
                                    </div>
                                    <span class="text-sm">Watch Video</span>
                                </div>
                            </div>
                            <div onclick="window.open('https:/x-6jLIc3NzNl', '_blank')" class="dashboard-card cursor-pointer hover:bg-14B8A6 transition">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <i class="fab fa-telegram text-lg"></i>
                                        <p class="text-sm">Telegram</p>
                                    </div>
                                    <span class="text-sm">Join Channel</span>
                                </div>
                            </div>
                            <div onclick="window.open('https://t.mWDORAEMON', '_blank')" class="dashboard-card cursor-pointer hover:bg-14B8A6 transition">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <i class="fab fa-telegram text-lg"></i>
                                        <p class="text-sm">Telegram</p>
                                    </div>
                                    <span class="text-sm">Owners</span>
                                </div>
                            </div>
                            <div onclick="window.open('https://example.com/privacy-policy', '_blank')" class="dashboard-card cursor-pointer hover:bg-14B8A6 transition">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <i class="fas fa-shield-alt text-lg"></i>
                                        <p class="text-sm">Privacy Policy</p>
                                    </div>
                                    <span class="text-sm">Read More</span>
                                </div>
                            </div>
                            <div class="contact-links">
                                <a href="https://t.mc3NzNl" target="_blank" class="contact-link">
                                    <i class="fab fa-telegram"></i>
                                    <span>Telegram</span>
                                </a
                                <a href="https://t.DORAEMON" target="_blank" class="contact-link">
                                    <i class="fab fa-telegram"></i>
                                    <span>Owners</span>
                                </a>
                            </div>
                        </div>
                        <div class="small-dot" style="top: 10%; left: 15%; animation-delay: 0.6s;"></div>
                        <div class="small-dot" style="top: 90%; left: 85%; animation-delay: 1.1s;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <ul>
                <li class="active">
                    <a href="#" data-section="homeSection">
                        <span class="icon"><ion-icon name="home-outline"></ion-icon></span>
                        <span class="text">Home</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-section="historySection">
                        <span class="icon"><ion-icon name="time-outline"></ion-icon></span>
                        <span class="text">History</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-section="statsSection">
                        <span class="icon"><ion-icon name="bar-chart-outline"></ion-icon></span>
                        <span class="text">Stats</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-section="settingsSection">
                        <span class="icon"><ion-icon name="settings-outline"></ion-icon></span>
                        <span class="text">Settings</span>
                    </a>
                </li>
                <div class="indicator"></div>
            </ul>
        </div>

        <!-- Popups and Modals -->
        <div id="videoPopup" class="popup">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold">How To Use NEWRO X</h3>
                <button onclick="closeVideoPopup()" class="hover:text-14B8A6">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="video-container">
                <iframe src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen></iframe>
            </div>
        </div>
        <div id="winPopup" class="win-popup">
            <div class="confetti-icon">üéâ</div>
            <h3 class="text-lg font-semibold mb-4">CONGRATULATIONS!</h3>
            <p class="mb-4">You won this prediction!</p>
            <p id="winDetails" class="mb-4"></p>
        </div>
        <div id="lossPopup" class="loss-popup">
            <div class="confetti-icon">‚ùå</div>
            <h3 class="text-lg font-semibold mb-4">LOSS!</h3>
            <p class="mb-4">Unfortunately, you lost this prediction.</p>
            <p id="lossDetails" class="mb-4"></p>
        </div>
        <div id="jackpotPopup" class="jackpot-popup">
            <div class="confetti-icon">üèÜ</div>
            <h3 class="text-lg font-semibold mb-4">JACKPOT!</h3>
            <p class="mb-4">Incredible! You hit the jackpot with a number match!</p>
            <p id="jackpotDetails" class="mb-4"></p>
        </div>
        <div id="lossStreakModal" class="modal">
            <h3 class="text-lg font-semibold mb-4">Warning</h3>
            <p class="mb-4">You have lost 5 times in a row. Please stop for 15 minutes.</p>
            <div class="flex justify-end space-x-2">
                <button id="stopPlayingBtn" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition">Stop üõë</button>
            </div>
        </div>
        <div id="playResumeModal" class="play-resume">
            <div class="confetti-icon"><i class="fas fa-play"></i></div>
            <h3 class="text-lg font-semibold mb-4">Resume Playing</h3>
            <p class="mb-4">You can now resume predictions.</p>
            <button onclick="resumePlaying()" class="bg-10B981 text-white px-4 py-2 rounded-lg hover:bg-14B8A6 transition">Resume</button>
        </div>
        <div id="confirmModal" class="modal">
            <h3 class="text-lg font-semibold mb-4">Confirm Action</h3>
            <p id="modalMessage" class="mb-4"></p>
            <div class="flex justify-end space-x-2">
                <button id="cancelModalBtn" class="bg-gray-300 text-white px-4 py-2 rounded-lg hover:bg-gray-400 transition">Cancel</button>
                <button id="confirmModalBtn" class="px-4 py-2 rounded-lg hover:bg-14B8A6 transition">Confirm</button>
            </div>
        </div>

        <script type="module">
            // Global state
            let state = {
                historyData: [],
                lastFetchedPeriod: null,
                lastResult: null,
                lastPrediction: null,
                lastStatus: null,
                globalPrediction: null,
                streak: 0,
                winLevel: 0,
                lossStreak: 0,
                consecutiveLosses: 0,
                isPaused: false,
                isSoundEnabled: localStorage.getItem('sound') === 'true' || true,
                isNotificationsEnabled: localStorage.getItem('notifications') === 'true' || false,
                isUltraExtremeMode: localStorage.getItem('predictionMode') === 'ultra' || false,
                strategyPerformance: Array(200).fill(0) // Track performance of each strategy
            };

            // Apply saved settings
            document.getElementById('notificationToggle').checked = state.isNotificationsEnabled;
            document.getElementById('soundToggle').checked = state.isSoundEnabled;
            document.getElementById('predictionModeToggle').checked = state.isUltraExtremeMode;

            // Navigation
            const navItems = document.querySelectorAll('.navigation ul li');
            const sections = document.querySelectorAll('.content-section');
            navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    navItems.forEach(nav => nav.classList.remove('active'));
                    item.classList.add('active');
                    sections.forEach(section => section.classList.remove('active'));
                    document.getElementById(item.querySelector('a').getAttribute('data-section')).classList.add('active');
                });
            });

            // Popups
            function openVideoPopup() { document.getElementById('videoPopup').classList.add('active'); }
            function closeVideoPopup() { document.getElementById('videoPopup').classList.remove('active'); }
            function showWinPopup(period, predicted, actual, numbers) {
                document.getElementById('winDetails').textContent = `Period: ${period} | Predicted: ${predicted} | Numbers: ${numbers.join(', ')} | Actual: ${actual}`;
                document.getElementById('winPopup').classList.add('active');
                if (state.isSoundEnabled) speak("Congratulations! You won!");
                setTimeout(() => document.getElementById('winPopup').classList.remove('active'), 5000);
            }
            function showLossPopup(period, predicted, actual, numbers) {
                document.getElementById('lossDetails').textContent = `Period: ${period} | Predicted: ${predicted} | Numbers: ${numbers.join(', ')} | Actual: ${actual}`;
                document.getElementById('lossPopup').classList.add('active');
                if (state.isSoundEnabled) speak("Sorry, you lost.");
                setTimeout(() => document.getElementById('lossPopup').classList.remove('active'), 5000);
            }
            function showJackpotPopup(period, predicted, actual, numbers, actualNumber) {
                document.getElementById('jackpotDetails').textContent = `Period: ${period} | Predicted: ${predicted} | Numbers: ${numbers.join(', ')} | Actual: ${actual} (${actualNumber})`;
                document.getElementById('jackpotPopup').classList.add('active');
                if (state.isSoundEnabled) speak("Jackpot! You matched a number!");
                setTimeout(() => document.getElementById('jackpotPopup').classList.remove('active'), 7000);
            }
            function speak(text) {
                if ('speechSynthesis' in window) {
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.lang = 'en-US';
                    speechSynthesis.speak(utterance);
                }
            }
            function showConfirmModal(message, onConfirm) {
                document.getElementById('modalMessage').textContent = message;
                document.getElementById('confirmModal').classList.add('active');
                const confirmBtn = document.getElementById('confirmModalBtn');
                const cancelBtn = document.getElementById('cancelModalBtn');
                const confirmHandler = () => {
                    onConfirm();
                    document.getElementById('confirmModal').classList.remove('active');
                    confirmBtn.removeEventListener('click', confirmHandler);
                };
                confirmBtn.addEventListener('click', confirmHandler);
                cancelBtn.addEventListener('click', () => document.getElementById('confirmModal').classList.remove('active'));
            }
            function showLossStreakModal() { document.getElementById('lossStreakModal').classList.add('active'); }
            function closeLossStreakModal() { document.getElementById('lossStreakModal').classList.remove('active'); }
            function showPlayResumeModal() { document.getElementById('playResumeModal').classList.add('active'); }
            function resumePlaying() {
                document.getElementById('playResumeModal').classList.remove('active');
                state.isPaused = false;
                predictionInterval = setInterval(updatePrediction, 5000);
                updatePrediction();
            }
            document.getElementById('stopPlayingBtn').addEventListener('click', () => {
                closeLossStreakModal();
                clearInterval(predictionInterval);
                state.isPaused = true;
                setTimeout(showPlayResumeModal, 15 * 60 * 1000);
                showToast("Predictions paused for 15 minutes.");
            });

            // Settings
            document.getElementById('notificationToggle').addEventListener('change', (e) => {
                state.isNotificationsEnabled = e.target.checked;
                localStorage.setItem('notifications', state.isNotificationsEnabled);
                if (state.isNotificationsEnabled && Notification.permission !== 'granted') {
                    Notification.requestPermission().then(permission => {
                        if (permission === 'denied') showToast("Notifications are blocked. Please enable them in your browser settings.");
                    });
                }
            });
            document.getElementById('soundToggle').addEventListener('change', (e) => {
                state.isSoundEnabled = e.target.checked;
                localStorage.setItem('sound', state.isSoundEnabled);
            });
            document.getElementById('predictionModeToggle').addEventListener('change', (e) => {
                state.isUltraExtremeMode = e.target.checked;
                localStorage.setItem('predictionMode', state.isUltraExtremeMode ? 'ultra' : 'normal');
                updatePrediction();
            });
            function resetSettings() {
                showConfirmModal("Are you sure you want to reset all settings?", () => {
                    state.isSoundEnabled = true;
                    state.isNotificationsEnabled = false;
                    state.isUltraExtremeMode = false;
                    localStorage.setItem('sound', state.isSoundEnabled);
                    localStorage.setItem('notifications', state.isNotificationsEnabled);
                    localStorage.setItem('predictionMode', 'normal');
                    document.getElementById('notificationToggle').checked = state.isNotificationsEnabled;
                    document.getElementById('soundToggle').checked = state.isSoundEnabled;
                    document.getElementById('predictionModeToggle').checked = state.isUltraExtremeMode;
                    updatePrediction();
                });
            }

            // Calculate Entropy
            function calculateEntropy(history) {
                const counts = Array(10).fill(0);
                history.forEach(h => {
                    if (h.result !== '-') counts[h.result]++;
                });
                let entropy = 0;
                const total = counts.reduce((a, b) => a + b, 0);
                counts.forEach(count => {
                    if (count > 0) {
                        const p = count / total;
                        entropy -= p * Math.log2(p);
                    }
                });
                return entropy / Math.log2(10); // Normalize to [0, 1]
            }

            // Detect Patterns
            function detectPattern(history) {
                const recentResults = history.filter(h => h.resultStatus !== "Pending").slice(0, 20);
                let bigStreak = 0, smallStreak = 0, alternationScore = 0, lastType = null;
                let streakCount = 1;

                for (let i = 0; i < recentResults.length - 1; i++) {
                    const currentType = recentResults[i].result >= 5 ? "BIG" : "SMALL";
                    const nextType = recentResults[i + 1].result >= 5 ? "BIG" : "SMALL";
                    if (currentType === nextType) {
                        streakCount++;
                        if (currentType === "BIG") bigStreak++;
                        else smallStreak++;
                    } else {
                        alternationScore += 0.2;
                        streakCount = 1;
                    }
                    lastType = currentType;
                }

                return { bigStreak, smallStreak, alternationScore, lastType, streakCount };
            }

            // Generate 200 Prediction Strategies
            const predictionStrategies = Array.from({ length: 200 }, (_, index) => ({
                id: index,
                predictBigSmall: (periodNum, history, entropy, bigStreak, smallStreak, alternationScore, streakCount) => {
                    const base = (periodNum * (index + 1) + index * 7) % 10;
                    let score = base / 10 + (bigStreak - smallStreak) * 0.05 + alternationScore * 0.1;
                    if (index % 2 === 0) score += entropy * 0.2;
                    if (index % 3 === 0) score += history.filter(h => h.result >= 5).length / history.length * 0.3;
                    if (index % 5 === 0) score -= state.consecutiveLosses * 0.05;
                    if (index % 7 === 0) score += (streakCount > 2 ? -0.15 : 0.1);
                    return score >= 0.5 ? "BIG" : "SMALL";
                },
                predictNumbers: (periodNum, history, entropy, lastType, bigStreak, smallStreak, alternationScore) => {
                    let num1 = ((periodNum * (index + 1) + index * 3) ** 2) % 10;
                    let num2 = ((periodNum * (index + 2) + index * 5) ** 3) % 10;
                    if (index % 4 === 0) {
                        const freq = Array(10).fill(0);
                        history.forEach(h => { if (h.result !== '-') freq[h.result]++; });
                        const topNum = freq.indexOf(Math.max(...freq));
                        const lowNum = freq.indexOf(Math.min(...freq.filter(f => f > 0 || 1)));
                        num1 = (num1 + topNum) % 10;
                        num2 = (num2 + lowNum) % 10;
                    }
                    if (index % 6 === 0) {
                        num1 = (num1 + (lastType === "BIG" ? 5 : 0)) % 10;
                        num2 = (num2 + (bigStreak % 10)) % 10;
                    }
                    if (index % 8 === 0) {
                        num1 = (Math.floor(entropy * 10) + smallStreak) % 10;
                        num2 = (num2 + Math.floor(alternationScore * 5)) % 10;
                    }
                    if (num1 === num2) num2 = (num2 + 1) % 10;
                    return [num1, num2];
                },
                confidence: (periodNum, history, entropy, bigStreak, smallStreak, alternationScore) => {
                    let conf = 0.5 + entropy * 0.3 - Math.abs(bigStreak - smallStreak) * 0.05;
                    if (index % 7 === 0) conf += state.streak * 0.03;
                    if (index % 11 === 0) conf -= state.lossStreak * 0.05;
                    if (alternationScore > 0.4) conf += 0.1;
                    return Math.min(0.98, Math.max(0.4, conf));
                }
            }));

            // Select Strategy
            function selectStrategy(periodNum, history, entropy) {
                const strategyIndex = (periodNum + Math.floor(entropy * 100)) % 200;
                return predictionStrategies[strategyIndex];
            }

            // Ultra Extreme AI Prediction Logic
            async function ultraExtremeAIPredict(history, periodNumber) {
                const periodNum = Number(periodNumber.slice(-4));
                const entropy = calculateEntropy(history);
                const pattern = detectPattern(history);
                const { bigStreak, smallStreak, alternationScore, lastType, streakCount } = pattern;
                const strategy = selectStrategy(periodNum, history, entropy);

                let prediction = strategy.predictBigSmall(periodNum, history, entropy, bigStreak, smallStreak, alternationScore, streakCount);
                let numberPredictions = strategy.predictNumbers(periodNum, history, entropy, lastType, bigStreak, smallStreak, alternationScore);
                let confidence = strategy.confidence(periodNum, history, entropy, bigStreak, smallStreak, alternationScore);

                // Adjust for streaks and mode
                if (state.isUltraExtremeMode) {
                    if (state.consecutiveLosses >= 2) {
                        prediction = lastType === "BIG" ? "SMALL" : "BIG";
                        confidence += 0.1;
                    }
                    if (streakCount >= 3) {
                        prediction = lastType === "BIG" ? "SMALL" : "BIG";
                        confidence = Math.min(0.95, confidence + 0.05);
                    }
                    if (bigStreak > smallStreak + 2) {
                        prediction = "SMALL";
                    } else if (smallStreak > bigStreak + 2) {
                        prediction = "BIG";
                    }
                    numberPredictions[0] = (numberPredictions[0] + (state.consecutiveLosses % 10)) % 10;
                    numberPredictions[1] = (numberPredictions[1] + Math.floor(alternationScore * 3)) % 10;
                    if (numberPredictions[0] === numberPredictions[1]) numberPredictions[1] = (numberPredictions[1] + 1) % 10;
                }

                // Win streak correction
                if (state.winLevel >= 4) {
                    prediction = prediction === "BIG" ? "SMALL" : "BIG";
                    confidence = Math.max(0.4, confidence * 0.7);
                    numberPredictions = [(numberPredictions[0] + 3) % 10, (numberPredictions[1] + 4) % 10];
                    state.winLevel = 0;
                }

                return { prediction, confidence, numberPredictions, strategyId: strategy.id };
            }

            // Fetch Game Result
            async function fetchGameResult() {
                try {
                    const response = await fetch(`https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json?ts=${Date.now()}`);
                    const data = await response.json();
                    if (!data?.data?.list || data.data.list.length === 0) {
                        console.warn('API returned no data. Using mock data.');
                        return fetchMockGameResult();
                    }
                    return data.data.list[0];
                } catch (e) {
                    console.error('API fetch failed:', e);
                    return fetchMockGameResult();
                }
            }
            function fetchMockGameResult() {
                const mockIssueNumber = state.lastFetchedPeriod ? (BigInt(state.lastFetchedPeriod) + 1n).toString() : '20240801001';
                const mockNumber = ((Number(mockIssueNumber.slice(-4)) * 13 + 5) % 10);
                return {
                    issueNumber: mockIssueNumber,
                    number: mockNumber.toString(),
                    openTime: new Date().toLocaleString()
                };
            }

            // Update Last Status
            function updateLastStatus(actualNumber, predictedNumbers, strategyId) {
                const predictedType = state.lastPrediction;
                const actualType = actualNumber >= 5 ? 'BIG' : 'SMALL';
                const typeMatch = actualType === predictedType;
                const numberMatch = predictedNumbers.includes(actualNumber);
                const jackpotMatch = predictedNumbers[0] === actualNumber || predictedNumbers[1] === actualNumber;

                state.lastResult = actualNumber;
                if (jackpotMatch) {
                    state.lastStatus = 'JACKPOT';
                    state.winLevel = Math.min(state.winLevel + 2, 4);
                    state.streak = state.streak + 2;
                    state.lossStreak = 0;
                    state.consecutiveLosses = 0;
                    state.strategyPerformance[strategyId] += 2;
                    showJackpotPopup(state.historyData[0].period, predictedType, actualType, predictedNumbers, actualNumber);
                } else if (typeMatch || numberMatch) {
                    state.lastStatus = 'WIN';
                    state.winLevel = Math.min(state.winLevel + 1, 4);
                    state.streak = state.streak + 1;
                    state.lossStreak = 0;
                    state.consecutiveLosses = 0;
                    state.strategyPerformance[strategyId] += 1;
                    showWinPopup(state.historyData[0].period, predictedType, actualType, predictedNumbers);
                } else {
                    state.lastStatus = 'LOSS';
                    state.winLevel = 0;
                    state.streak = 0;
                    state.lossStreak += 1;
                    state.consecutiveLosses += 1;
                    state.strategyPerformance[strategyId] -= 0.5;
                    showLossPopup(state.historyData[0].period, predictedType, actualType, predictedNumbers);
                    if (state.consecutiveLosses >= 5) showLossStreakModal();
                }
                return state.lastStatus;
            }

            // Update Server Status
            function updateServerStatus(isConnected) {
                const statusElement = document.getElementById('serverStatus');
                const indicator = document.getElementById('serverStatusIndicator');
                statusElement.textContent = isConnected ? "Connected" : "Disconnected";
                indicator.classList.toggle('bg-10B981', isConnected);
                indicator.classList.toggle('animate-ping', isConnected);
                indicator.classList.toggle('bg-gray-500', !isConnected);
            }

            // Show Toast
            function showToast(message) {
                const toast = document.createElement("div");
                toast.className = "toast";
                toast.innerText = message;
                document.body.appendChild(toast);
                setTimeout(() => toast.remove(), 3000);
            }

            // Update Prediction
            async function updatePrediction() {
                if (state.isPaused) return;
                let result = await fetchGameResult();
                if (!result || result.issueNumber === state.lastFetchedPeriod) return;

                updateServerStatus(true);
                if (state.historyData.length > 0 && state.historyData[0].resultStatus === "Pending") {
                    const actualNumber = Number(result.number);
                    const status = updateLastStatus(actualNumber, state.historyData[0].numberPredictions, state.historyData[0].strategyId);
                    const resultType = actualNumber >= 5 ? "BIG" : "SMALL";
                    state.historyData[0].result = actualNumber;
                    state.historyData[0].resultStatus = status;
                    state.historyData[0].resultType = resultType;
                    state.historyData[0].calculation = `Number ${actualNumber} (${resultType})`;
                    updateHistory();
                    updateStats();
                }

                const nextPeriodFull = (BigInt(result.issueNumber) + 1n).toString();
                const nextPeriod = nextPeriodFull.slice(-4);
                const aiDecision = await ultraExtremeAIPredict(state.historyData, nextPeriod);
                state.lastPrediction = aiDecision.prediction;
                state.globalPrediction = state.lastPrediction;

                document.getElementById("currentPeriod").textContent = nextPeriod;
                document.getElementById("currentResult").textContent = state.globalPrediction || '-';
                document.getElementById("predictedNumbers").textContent = aiDecision.numberPredictions.join(', ') || '-';
                document.getElementById("confidenceFill").style.width = `${(aiDecision.confidence * 100).toFixed(0)}%`;
                document.getElementById("confidenceText").textContent = `${(aiDecision.confidence * 100).toFixed(0)}%`;

                state.historyData.unshift({
                    period: nextPeriod,
                    prediction: state.globalPrediction,
                    numberPredictions: aiDecision.numberPredictions,
                    result: "-",
                    resultStatus: "Pending",
                    resultType: "-",
                    calculation: "-",
                    confidence: (aiDecision.confidence * 100).toFixed(0),
                    strategyId: aiDecision.strategyId
                });

                if (state.historyData.length > 20) state.historyData.pop();
                updateHistory();
                updateStats();
                state.lastFetchedPeriod = result.issueNumber;

                if (state.isNotificationsEnabled && state.globalPrediction && Notification.permission === 'granted') {
                    new Notification(`New Prediction: ${state.globalPrediction}`, {
                        body: `Period: ${nextPeriod}\nNumbers: ${aiDecision.numberPredictions.join(', ')}\nConfidence: ${(aiDecision.confidence * 100).toFixed(0)}%`,
                        icon: 'https://via.placeholder.com/32'
                    });
                }
            }

            // Update History
            function updateHistory() {
                const historyContainer = document.getElementById('history');
                historyContainer.innerHTML = '';
                state.historyData.forEach((entry, index) => {
                    const status = entry.resultStatus.toLowerCase();
                    const iconClass = {
                        win: 'fas fa-check-circle win-icon',
                        loss: 'fas fa-times-circle loss-icon',
                        pending: 'fas fa-hourglass-half pending-icon',
                        skipped: 'fas fa-ban skipped-icon',
                        jackpot: 'fas fa-trophy jackpot-icon'
                    }[status] || 'fas fa-question-circle';
                    const badgeClass = {
                        win: 'win-badge',
                        loss: 'loss-badge',
                        pending: 'pending-badge',
                        skipped: 'skipped-badge',
                        jackpot: 'jackpot-badge'
                    }[status] || '';
                    const historyItem = document.createElement('div');
                    historyItem.className = `history-item ${status} flex items-center justify-between p-4 rounded-xl`;
                    historyItem.innerHTML = `
                        <div class="watermark">ERROR X</div>
                        <div class="flex items-center space-x-3">
                            <div class="status-icon ${badgeClass}">
                                <i class="${iconClass}"></i>
                            </div>
                            <div>
                                <p class="text-lg font-semibold">${entry.period.slice(-5)}</p>
                                <p class="text-sm">Prediction: ${entry.prediction}</p>
                                <p class="text-sm">Numbers: ${entry.numberPredictions ? entry.numberPredictions.join(', ') : '-'}</p>
                                ${entry.result !== "-" ? `<p class="text-sm">Actual: ${entry.result}</p>` : ''}
                                ${entry.confidence ? `<p class="text-sm">Confidence: ${entry.confidence}%</p>` : ''}
                                <p class="text-sm capitalize">${status}</p>
                            </div>
                        </div>
                        <button class="delete-btn hover:text-14B8A6 transition" data-index="${index}">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    `;
                    historyContainer.appendChild(historyItem);
                    historyItem.querySelector('.delete-btn').addEventListener('click', () => {
                        showConfirmModal("Are you sure you want to delete this history item?", () => {
                            historyItem.classList.add('fade-out');
                            historyItem.addEventListener('animationend', () => {
                                state.historyData.splice(index, 1);
                                showToast("History entry deleted successfully");
                                updateHistory();
                                updateStats();
                            }, { once: true });
                        });
                    });
                });

                // Update Analysis Dashboard
                let mostFrequent = '-', leastFrequent = '-';
                const numberCounts = {};
                state.historyData.forEach(entry => {
                    if (entry.result !== '-') numberCounts[entry.result] = (numberCounts[entry.result] || 0) + 1;
                });
                const sortedCounts = Object.entries(numberCounts).sort((a, b) => b[1] - a[1]);
                if (sortedCounts.length > 0) {
                    mostFrequent = sortedCounts[0][0];
                    leastFrequent = sortedCounts[sortedCounts.length - 1][0];
                }
                document.getElementById('mostFrequent').textContent = mostFrequent;
                document.getElementById('leastFrequent').textContent = leastFrequent;
            }

            // Update Stats
            function updateStats() {
                const wins = state.historyData.filter(item => item.resultStatus === "WIN" || item.resultStatus === "JACKPOT").length;
                const losses = state.historyData.filter(item => item.resultStatus === "LOSS").length;
                const total = wins + losses;
                const accuracy = total > 0 ? ((wins / total) * 100).toFixed(2) : 0;
                document.getElementById("winRate").textContent = `${accuracy}%`;
                document.getElementById("totalWinBets").textContent = wins;
                document.getElementById("totalLossBets").textContent = losses;
                document.getElementById("statsTotalWins").textContent = wins;
                document.getElementById("statsTotalLosses").textContent = losses;
                document.getElementById("statsWinRate").textContent = `${accuracy}%`;
                document.getElementById("currentStreak").textContent = state.streak;
                document.getElementById("lastFiveResults").textContent = state.historyData.slice(0, 5).map(item => item.resultStatus === 'WIN' ? 'W' : (item.resultStatus === 'JACKPOT' ? 'J' : (item.resultStatus === 'LOSS' ? 'L' : '-'))).join(', ') || '-';
                document.getElementById("totalWins").textContent = `Total Wins: ${wins}`;
                document.getElementById("totalLosses").textContent = `Total Losses: ${losses}`;
            }

            // Delete All History
            document.getElementById('deleteAllHistoryBtn').addEventListener('click', () => {
                showConfirmModal("Are you sure you want to delete all history items?", () => {
                    state.historyData = [];
                    state.streak = 0;
                    state.winLevel = 0;
                    state.lossStreak = 0;
                    state.consecutiveLosses = 0;
                    state.strategyPerformance = Array(200).fill(0);
                    updateHistory();
                    updateStats();
                    showToast("All history deleted successfully");
                });
            });

            // Initialize
            if (state.isNotificationsEnabled && Notification.permission !== 'granted') {
                Notification.requestPermission().then(permission => {
                    if (permission === 'denied') showToast("Notifications are blocked. Please enable them in your browser settings.");
                });
            }
            let predictionInterval = setInterval(updatePrediction, 5000);
            updatePrediction();
        </script>
    </div>
</body>
</html>